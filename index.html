<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <title>計算</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- 引入 Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="theme-color" content="#ffffff">
    <style>
        .result {
            font-size: 1.2em;
            font-weight: bold;
            color: #007bff;
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <ul class="nav nav-tabs">
            <li class="nav-item">
                <a class="nav-link active" data-toggle="tab" href="#bloodSugar">血糖換算</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" data-toggle="tab" href="#foodCarb">糖質計算</a>
            </li>
        </ul>

        <div class="tab-content">
            <div id="bloodSugar" class="tab-pane fade show active text-center">
                <h2>血糖換算</h2>
                <input type="number" id="mmolInput" class="form-control mb-2" placeholder="mmol/L" inputmode="decimal" oninput="convertBloodSugar()" step="0.01">
                <p id="mgdlOutput" class="result"></p>
            </div>

            <div id="foodCarb" class="tab-pane fade text-center">
                <h2>糖質計算</h2>
                <input type="number" id="calories" class="form-control mb-2" placeholder="卡路里 / カロリー" inputmode="decimal" oninput="calculateCarbs()" step="0.01">
                <input type="number" id="protein" class="form-control mb-2" placeholder="蛋白質（g） / タンパク質（g）" inputmode="decimal" oninput="calculateCarbs()" step="0.01">
                <input type="number" id="fat" class="form-control mb-2" placeholder="脂質（g） / 脂質（g）" inputmode="decimal" oninput="calculateCarbs()" step="0.01">
                <input type="number" id="fiber" class="form-control mb-2" placeholder="食物纖維（g） / 食物繊維（g）" inputmode="decimal" oninput="calculateCarbs()" step="0.01">
                <p id="carbOutput" class="result"></p>
            </div>
        </div>
    </div>

    <!-- 引入 Bootstrap 和 jQuery JavaScript -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

    <script>
        function convertBloodSugar() {
            var mmolInput = parseFloat(document.getElementById("mmolInput").value);
            if (!isNaN(mmolInput)) {
                var mgdlOutput = document.getElementById("mgdlOutput");
                var mgdlValue = mmolInput * 18.0182;
                mgdlOutput.textContent = "結果 " + mgdlValue + " mg/dL / ";
            }
        }

        function calculateCarbs() {
            var calories = parseFloat(document.getElementById("calories").value);
            var protein = parseFloat(document.getElementById("protein").value);
            var fat = parseFloat(document.getElementById("fat").value);
            var fiber = parseFloat(document.getElementById("fiber").value);

            if (!isNaN(calories) && !isNaN(protein) && !isNaN(fat) && !isNaN(fiber)) {
                var carbOutput = document.getElementById("carbOutput");
                var carbValue = ((calories - (protein * 4) - (fat * 9)) / 4) - fiber;
                carbOutput.textContent = "結果 : 糖質 " + carbValue + "g ";
            }
        }
    </script>
</body>
</html>

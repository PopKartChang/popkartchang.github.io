<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <title>計算</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- 引入 Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <style>
        .result {
            font-size: 1.2em;
            font-weight: bold;
            color: #007bff;
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <ul class="nav nav-tabs">
            <li class="nav-item">
                <a class="nav-link active" data-toggle="tab" href="#bloodSugar">血糖換算 / 血糖換算</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" data-toggle="tab" href="#foodCarb">食物糖質計算 / 食品糖質計算</a>
            </li>
        </ul>

        <div class="tab-content">
            <div id="bloodSugar" class="tab-pane fade show active text-center">
                <h2>血糖換算 / 血糖換算</h2>
                <input type="tel" id="mmolInput" class="form-control mb-2" placeholder="輸入 mmol/L / mmol/L を入力" inputmode="numeric" oninput="convertBloodSugar()">
                <p id="mgdlOutput" class="result"></p>
            </div>

            <div id="foodCarb" class="tab-pane fade text-center">
                <h2>食物糖質計算 / 食品糖質計算</h2>
                <input type="tel" id="calories" class="form-control mb-2" placeholder="卡路里 / カロリー" inputmode="numeric" oninput="calculateCarbs()">
                <input type="tel" id="protein" class="form-control mb-2" placeholder="蛋白質（g） / タンパク質（g）" inputmode="numeric" oninput="calculateCarbs()">
                <input type="tel" id="fat" class="form-control mb-2" placeholder="脂質（g） / 脂質（g）" inputmode="numeric" oninput="calculateCarbs()">
                <input type="tel" id="fiber" class="form-control mb-2" placeholder="食物纖維（g） / 食物繊維（g）" inputmode="numeric" oninput="calculateCarbs()">
                <p id="carbOutput" class="result"></p>
            </div>
        </div>
    </div>

    <!-- 引入 Bootstrap 和 jQuery JavaScript -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

    <script>
        function convertBloodSugar() {
            var mmolInput = parseFloat(document.getElementById("mmolInput").value);
            if (!isNaN(mmolInput)) {
                var mgdlOutput = document.getElementById("mgdlOutput");
                var mgdlValue = mmolInput * 18.0182;
                mgdlOutput.textContent = "換算結果為 " + mgdlValue + " mg/dL / 変換結果は " + mgdlValue + " mg/dL";
            }
        }

        function calculateCarbs() {
            var calories = parseFloat(document.getElementById("calories").value);
            var protein = parseFloat(document.getElementById("protein").value);
            var fat = parseFloat(document.getElementById("fat").value);
            var fiber = parseFloat(document.getElementById("fiber").value);

            if (!isNaN(calories) && !isNaN(protein) && !isNaN(fat) && !isNaN(fiber)) {
                var carbOutput = document.getElementById("carbOutput");
                var carbValue = ((calories - (protein * 4) - (fat * 9)) / 4) - fiber;
                carbOutput.textContent = "計算結果為 " + carbValue + "g 糖質 / 計算結果は " + carbValue + "g 糖質";
            }
        }
    </script>
</body>
</html>
